
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Restaurant Log</title>

<style>
:root {
  --bg: #f7f4ef;
  --card: #ffffff;
  --text: #1d1d1f;
  --accent: #b08968;
  --muted: #6e6e73;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #121212;
    --card: #1e1e1e;
    --text: #f5f5f7;
    --accent: #d4a373;
    --muted: #a1a1a6;
  }
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, system-ui;
  background: var(--bg);
  color: var(--text);
  padding: 20px;
}

h1 {
  text-align: center;
  font-weight: 600;
  margin-bottom: 25px;
}

.card {
  background: var(--card);
  border-radius: 20px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}

label {
  font-weight: 600;
  margin-top: 14px;
  display: block;
}

input, select, textarea {
  width: 100%;
  padding: 14px;
  margin-top: 6px;
  border-radius: 14px;
  border: 1px solid #ddd;
  font-size: 16px;
  background: transparent;
  color: var(--text);
}

textarea {
  resize: none;
}

button {
  background: var(--accent);
  color: white;
  border: none;
  padding: 16px;
  width: 100%;
  border-radius: 16px;
  font-size: 16px;
  font-weight: 600;
  margin-top: 20px;
}

.stars {
  display: flex;
  gap: 6px;
  font-size: 26px;
  cursor: pointer;
}

.star {
  opacity: 0.3;
}

.star.active {
  opacity: 1;
  color: var(--accent);
}

.saved-item {
  border-top: 1px solid rgba(0,0,0,0.1);
  padding-top: 10px;
  margin-top: 10px;
}

.delete-btn {
  background: transparent;
  color: red;
  font-size: 14px;
  margin-top: 6px;
}
</style>
</head>

<body>

<h1>Restaurant Log</h1>

<div class="card">
  <label>Date & Time</label>
  <input type="datetime-local" id="datetime">

  <label>Restaurant Name</label>
  <input type="text" id="restaurant">

  <label>How many people?</label>
  <select id="people">
    <option value="">Select</option>
  </select>

  <label>Specials / Happy Hour</label>
  <input type="text" id="specials" placeholder="Ex: Happy Hour 4–6 PM">

  <label>Rating</label>
  <div class="stars" id="stars"></div>

  <label>Notes</label>
  <textarea id="notes" rows="3" placeholder="Quick thoughts or use voice dictation"></textarea>

  <label>Upload Menu Photo</label>
  <input type="file" id="photo" accept="image/*">

  <button onclick="saveVisit()">Save Visit</button>
</div>

<div class="card">
  <h3>Saved Visits</h3>
  <div id="saved"></div>
</div>

<script>
const starsContainer = document.getElementById("stars");
let rating = 0;

for (let i = 1; i <= 5; i++) {
  const star = document.createElement("span");
  star.innerHTML = "★";
  star.classList.add("star");
  star.onclick = () => setRating(i);
  starsContainer.appendChild(star);
}

function setRating(value) {
  rating = value;
  document.querySelectorAll(".star").forEach((star, index) => {
    star.classList.toggle("active", index < value);
  });
}

for (let i = 1; i <= 10; i++) {
  const option = document.createElement("option");
  option.value = i;
  option.textContent = i;
  document.getElementById("people").appendChild(option);
}

document.getElementById("datetime").value = new Date().toISOString().slice(0,16);

function saveVisit() {
  const visit = {
    datetime: document.getElementById("datetime").value,
    restaurant: document.getElementById("restaurant").value,
    people: document.getElementById("people").value,
    specials: document.getElementById("specials").value,
    rating: rating,
    notes: document.getElementById("notes").value
  };

  const visits = JSON.parse(localStorage.getItem("visits") || "[]");
  visits.unshift(visit);
  localStorage.setItem("visits", JSON.stringify(visits));
  renderVisits();
  document.querySelector("form")?.reset();
}

function renderVisits() {
  const saved = document.getElementById("saved");
  saved.innerHTML = "";
  const visits = JSON.parse(localStorage.getItem("visits") || "[]");

  visits.forEach((v, index) => {
    const div = document.createElement("div");
    div.classList.add("saved-item");
    div.innerHTML = `
      <strong>${v.restaurant}</strong><br>
      ${new Date(v.datetime).toLocaleString()}<br>
      People: ${v.people}<br>
      ⭐ ${v.rating}/5<br>
      ${v.specials ? "Specials: " + v.specials + "<br>" : ""}
      ${v.notes ? "Notes: " + v.notes : ""}
      <button class="delete-btn" onclick="deleteVisit(${index})">Delete</button>
    `;
    saved.appendChild(div);
  });
}

function deleteVisit(index) {
  const visits = JSON.parse(localStorage.getItem("visits") || "[]");
  visits.splice(index, 1);
  localStorage.setItem("visits", JSON.stringify(visits));
  renderVisits();
}

renderVisits();
</script>

</body>
</html>
